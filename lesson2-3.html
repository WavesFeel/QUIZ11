<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>STORTHUB - –£—Ä–æ–∫ 2: –≠—Ä–≥–æ–Ω–æ–º–∏–∫–∞</title>
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/slick.css" />
    <link rel="stylesheet" href="css/jquery.fancybox.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body>
    <header class="header">
      <div class="container">
        <div class="header_inner">
          <a href="lesson1.html" class="logo">STORT<span>HUB</span></a>
          <div class="exit">
            <p class="nameuser">–ú–∏—Å–∞–π–ª–æ–≤ –†–∞–π—Ñ</p>
            <a href="#" class="iconexit">üö™</a>
          </div>
        </div>
      </div>
    </header>

    <div class="content">
      <div class="container">
        <div class="content_inner">
          <div class="menu">
            <div class="class-switch">
              <button class="switch-btn active" data-href="lesson1.html">
                5 –∫–ª–∞—Å—Å
              </button>
              <button class="switch-btn" data-href="2lesson.html">
                6 –∫–ª–∞—Å—Å
              </button>
            </div>
            <ul class="lesson-list">
              <li data-href="lesson0.html">–í–≤–µ–¥–µ–Ω–∏–µ</li>
              <li data-href="lesson1.html">
                –£—Ä–æ–∫ 1. –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –∫–∞–±–∏–Ω–µ—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏
              </li>
              <li data-href="lesson2.html" class="active">
                –£—Ä–æ–∫ 2. –≠—Ä–≥–æ–Ω–æ–º–∏–∫–∞
              </li>
              <li data-href="lesson3.html">
                –£—Ä–æ–∫ 3. –ö–∏–±–µ—Ä-–≥–∏–≥–∏–µ–Ω–∞ –∏ –∑–∞—â–∏—Ç–∞ –ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
              </li>
              <li data-href="lesson4.html">
                –£—Ä–æ–∫ 4. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä—ã: –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ
              </li>
              <li data-href="lesson5.html">
                –£—Ä–æ–∫ 5. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä—ã: –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ
              </li>
              <li data-href="lesson6.html">–£—Ä–æ–∫ 6. –ê–ª–≥–æ—Ä–∏—Ç–º—ã</li>
            </ul>
          </div>

          <div class="content_games">
            <div class="ergonomics-game">
              <!-- –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ -->
              <div class="game-field">
                <!-- –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–Ω -->
                <div class="background-layer">
                  <img
                    src="images/—Ñ–æ–Ω.png"
                    alt="–§–æ–Ω —Ä–∞–±–æ—á–µ–≥–æ –º–µ—Å—Ç–∞"
                    class="bg-image"
                  />
                </div>

                <!-- –ú–æ–Ω–∏—Ç–æ—Ä (–ø–µ—Ä–µ–º–µ—â–∞–µ–º—ã–π) -->
                <div class="monitor-container" id="monitor">
                  <img
                    src="images/–º–æ–Ω–∏—Ç–æ—Ä.png"
                    alt="–ú–æ–Ω–∏—Ç–æ—Ä"
                    class="monitor-image"
                  />
                </div>

                <!-- –ß–µ–ª–æ–≤–µ–∫ (–ø–µ—Ä–µ–º–µ—â–∞–µ–º—ã–π) -->
                <div class="person-container" id="person">
                  <img
                    src="images/—á–µ–ª–æ–≤–µ–∫.png"
                    alt="–ß–µ–ª–æ–≤–µ–∫"
                    class="person-image"
                  />
                </div>

                <!-- –≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–Ω–∏—Ç–æ—Ä–æ–º -->
                <div class="monitor-controls">
                  <div class="control-group">
                    <div class="control-label">
                      –†–∞—Å–ø–æ–ª–æ–∂–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –º–æ–Ω–∏—Ç–æ—Ä!<br />
                      <small>(–æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ –≥–ª–∞–∑)</small>
                    </div>
                    <div class="control-buttons">
                      <button class="control-btn" id="monitor-up">‚Üë</button>
                      <button class="control-btn" id="monitor-down">‚Üì</button>
                    </div>
                  </div>
                </div>

                <!-- –≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–µ–ª–æ–≤–µ–∫–æ–º -->
                <div class="person-controls">
                  <div class="control-group">
                    <div class="control-label">
                      –†–∞—Å–ø–æ–ª–æ–∂–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–Ω–∂–µ–Ω–µ—Ä–∞!<br />
                      <small
                        >(–æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ 50 —Å–º –æ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∞)</small
                      >
                    </div>
                    <div class="control-buttons horizontal">
                      <button class="control-btn" id="person-left">‚Üê</button>
                      <span class="distance-indicator" id="distance"
                        >20 —Å–º.</span
                      >
                      <button class="control-btn" id="person-right">‚Üí</button>
                    </div>
                  </div>
                </div>

                <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ -->
                <div class="progress-indicators">
                  <div class="indicator" id="monitor-indicator">
                    <span class="indicator-icon">üñ•Ô∏è</span>
                    <span class="indicator-text">–ú–æ–Ω–∏—Ç–æ—Ä</span>
                    <span class="indicator-status" id="monitor-status">‚ùå</span>
                  </div>
                  <div class="indicator" id="person-indicator">
                    <span class="indicator-icon">üë§</span>
                    <span class="indicator-text">–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ</span>
                    <span class="indicator-status" id="person-status">‚ùå</span>
                  </div>
                </div>
              </div>

              <!-- –°—Ç—Ä–µ–ª–∫–∞ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ (—Å–∫—Ä—ã—Ç–∞ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ) -->
              <img
                src="images/arrow.png"
                alt="–î–∞–ª–µ–µ"
                class="arrow next-arrow"
                id="next-arrow"
                style="display: none"
              />
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É—Å–ø–µ—Ö–∞ -->
    <div id="successModal" class="success-modal">
      <div class="success-content">
        <h3>üéâ –û—Ç–ª–∏—á–Ω–æ!</h3>
        <p>
          –¢—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏–ª —Ä–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ! –¢–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º
          –±—É–¥–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ.
        </p>
        <button id="closeSuccess" class="close-success-btn">–ü–æ–Ω—è—Ç–Ω–æ!</button>
      </div>
    </div>

    <div id="successOverlay" class="success-overlay"></div>

    <style>
      .ergonomics-game {
        position: relative;
        width: 100%;
        height: 100%;
        min-height: 600px;
      }

      .game-field {
        position: relative;
        width: 100%;
        max-width: 1000px;
        height: 600px;
        margin: 0 auto;
        background: #f0f2f5;
        border-radius: 20px;
        overflow: hidden;
        border: 3px solid #4d36db;
      }

      .background-layer {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
      }

      .bg-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .monitor-container {
        position: absolute;
        top: 200px; /* –Ω–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è */
        left: 300px;
        z-index: 10;
        transition: all 0.3s ease;
      }

      .monitor-image {
        width: 71vw;
        margin-top: -243px;
        margin-left: -340px;
      }

      .person-container {
        position: absolute;
        top: 250px;
        left: 500px; /* –Ω–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è */
        z-index: 10;
        transition: all 0.3s ease;
      }

      .person-image {
        width: 70vw;
        margin-left: -515px;
        margin-top: -310px;
      }

      .monitor-controls {
        position: absolute;
        top: 30px;
        left: 30px;
        z-index: 20;
      }

      .person-controls {
        position: absolute;
        bottom: 30px;
        right: 30px;
        z-index: 20;
      }

      .control-group {
        background: rgba(255, 255, 255, 0.95);
        padding: 15px;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        border: 2px solid #4d36db;
      }

      .control-label {
        font-weight: 600;
        color: #4d36db;
        margin-bottom: 10px;
        text-align: center;
        font-size: 14px;
      }

      .control-label small {
        color: #666;
        font-weight: 400;
        font-size: 12px;
      }

      .control-buttons {
        display: flex;
        gap: 10px;
        justify-content: center;
        align-items: center;
      }

      .control-buttons.horizontal {
        align-items: center;
      }

      .control-btn {
        width: 40px;
        height: 40px;
        background: #4d36db;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 18px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .control-btn:hover:not(:disabled) {
        background: #3626aa;
        transform: scale(1.1);
      }

      .control-btn:disabled {
        background: #ccc;
        cursor: not-allowed;
        opacity: 0.5;
      }

      .distance-indicator {
        background: #e3f2fd;
        color: #1976d2;
        padding: 8px 12px;
        border-radius: 6px;
        font-weight: 600;
        font-size: 14px;
        border: 2px solid #1976d2;
      }

      .progress-indicators {
        position: absolute;
        top: 30px;
        right: 30px;
        display: flex;
        flex-direction: column;
        gap: 10px;
        z-index: 20;
      }

      .indicator {
        background: rgba(255, 255, 255, 0.95);
        padding: 10px 15px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        gap: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        border: 2px solid #e0e0e0;
      }

      .indicator.correct {
        border-color: #28a745;
        background: rgba(212, 237, 218, 0.95);
      }

      .indicator-icon {
        font-size: 16px;
      }

      .indicator-text {
        font-weight: 600;
        color: #333;
        font-size: 12px;
      }

      .indicator-status {
        font-size: 14px;
      }

      .next-arrow {
        position: absolute;
        bottom: 30px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 100;
        cursor: pointer;
        transition: transform 0.3s ease;
        width: 60px;
        height: 60px;
      }

      .next-arrow:hover {
        transform: translateX(-50%) scale(1.1);
      }

      .success-modal {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: white;
        border-radius: 15px;
        padding: 30px;
        z-index: 1001;
        max-width: 400px;
        width: 90%;
        display: none;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        border: 3px solid #28a745;
      }

      .success-modal.active {
        display: block;
        animation: modalAppear 0.3s ease-out;
      }

      @keyframes modalAppear {
        from {
          opacity: 0;
          transform: translate(-50%, -60%) scale(0.9);
        }
        to {
          opacity: 1;
          transform: translate(-50%, -50%) scale(1);
        }
      }

      .success-content h3 {
        color: #28a745;
        margin-bottom: 15px;
        font-size: 22px;
        text-align: center;
        font-weight: 700;
      }

      .success-content p {
        margin-bottom: 20px;
        font-size: 16px;
        line-height: 1.5;
        text-align: center;
        color: #333;
      }

      .close-success-btn {
        display: block;
        margin: 0 auto;
        padding: 12px 30px;
        background: #28a745;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-family: 'Montserrat', sans-serif;
        font-weight: 600;
        transition: background 0.3s ease;
      }

      .close-success-btn:hover {
        background: #218838;
      }

      .success-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        display: none;
      }

      .success-overlay.active {
        display: block;
      }

      @media (max-width: 768px) {
        .game-field {
          height: 500px;
          margin: 10px;
        }

        .monitor-controls,
        .person-controls,
        .progress-indicators {
          position: static;
          margin: 10px;
        }

        .control-group {
          padding: 10px;
        }

        .control-label {
          font-size: 12px;
        }

        .control-btn {
          width: 35px;
          height: 35px;
          font-size: 16px;
        }

        .monitor-container,
        .person-container {
          position: relative;
          top: auto;
          left: auto;
          margin: 10px;
        }
      }
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="js/slick.min.js"></script>
    <script src="js/jquery.fancybox.min.js"></script>
    <script src="js/help.js"></script>
    <script src="js/main.js"></script>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        let monitorPosition = 0; // –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –Ω–∞—á–∞–ª—å–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏
        let personPosition = 0; // –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –Ω–∞—á–∞–ª—å–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏

        const MONITOR_TARGET = -40; // –Ω—É–∂–Ω–æ –ø–æ–¥–Ω—è—Ç—å –Ω–∞ 40px
        const PERSON_TARGET = 60; // –Ω—É–∂–Ω–æ —Å–¥–≤–∏–Ω—É—Ç—å –≤–ø—Ä–∞–≤–æ –Ω–∞ 50px

        let monitorCorrect = false;
        let personCorrect = false;
        let gameCompleted = false;

        const monitorElement = document.getElementById('monitor');
        const personElement = document.getElementById('person');
        const distanceIndicator = document.getElementById('distance');

        // –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        const monitorUpBtn = document.getElementById('monitor-up');
        const monitorDownBtn = document.getElementById('monitor-down');
        const personLeftBtn = document.getElementById('person-left');
        const personRightBtn = document.getElementById('person-right');

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫ –º–æ–Ω–∏—Ç–æ—Ä–∞
        monitorUpBtn.addEventListener('click', () => {
          if (gameCompleted) return;
          monitorPosition -= 10;
          updateMonitorPosition();
        });

        monitorDownBtn.addEventListener('click', () => {
          if (gameCompleted) return;
          monitorPosition += 10;
          updateMonitorPosition();
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫ —á–µ–ª–æ–≤–µ–∫–∞
        personLeftBtn.addEventListener('click', () => {
          if (gameCompleted) return;
          personPosition -= 10;
          updatePersonPosition();
        });

        personRightBtn.addEventListener('click', () => {
          if (gameCompleted) return;
          personPosition += 10;
          updatePersonPosition();
        });

        function updateMonitorPosition() {
          const newTop = 200 + monitorPosition; // 200px - –Ω–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
          monitorElement.style.top = newTop + 'px';

          // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–æ–∑–∏—Ü–∏–∏
          monitorCorrect = monitorPosition === MONITOR_TARGET;
          updateMonitorStatus();
          checkGameCompletion();
        }

        function updatePersonPosition() {
          const newLeft = 500 + personPosition; // 500px - –Ω–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
          personElement.style.left = newLeft + 'px';

          // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è
          const distance = 20 + (personPosition / 10) * 5; // –∫–∞–∂–¥—ã–µ 10px = 5—Å–º
          distanceIndicator.textContent = distance + ' —Å–º.';

          // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–æ–∑–∏—Ü–∏–∏
          personCorrect = personPosition === PERSON_TARGET;
          updatePersonStatus();
          checkGameCompletion();
        }

        function updateMonitorStatus() {
          const indicator = document.getElementById('monitor-indicator');
          const status = document.getElementById('monitor-status');

          if (monitorCorrect) {
            indicator.classList.add('correct');
            status.textContent = '‚úÖ';
          } else {
            indicator.classList.remove('correct');
            status.textContent = '‚ùå';
          }
        }

        function updatePersonStatus() {
          const indicator = document.getElementById('person-indicator');
          const status = document.getElementById('person-status');

          if (personCorrect) {
            indicator.classList.add('correct');
            status.textContent = '‚úÖ';
          } else {
            indicator.classList.remove('correct');
            status.textContent = '‚ùå';
          }
        }

        function checkGameCompletion() {
          if (monitorCorrect && personCorrect && !gameCompleted) {
            gameCompleted = true;

            // –û—Ç–∫–ª—é—á–∞–µ–º –≤—Å–µ –∫–Ω–æ–ø–∫–∏
            document.querySelectorAll('.control-btn').forEach(btn => {
              btn.disabled = true;
            });

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É—Å–ø–µ—Ö–∞
            setTimeout(() => {
              showSuccessModal();
            }, 1000);
          }
        }

        function showSuccessModal() {
          document.getElementById('successModal').classList.add('active');
          document.getElementById('successOverlay').classList.add('active');
        }

        function closeSuccessModal() {
          document.getElementById('successModal').classList.remove('active');
          document.getElementById('successOverlay').classList.remove('active');

          // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç—Ä–µ–ª–∫—É –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞
          document.getElementById('next-arrow').style.display = 'block';
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        document
          .getElementById('closeSuccess')
          .addEventListener('click', closeSuccessModal);
        document
          .getElementById('successOverlay')
          .addEventListener('click', closeSuccessModal);
      });
    </script>
  </body>
</html>
