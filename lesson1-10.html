<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>STORTHUB - –£—Ä–æ–∫ 1: –û—Ü–µ–Ω–∫–∞ —É—á–∞—Å—Ç–∏—è</title>
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/slick.css" />
    <link rel="stylesheet" href="css/jquery.fancybox.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body>
    <header class="header">
      <div class="container">
        <div class="header_inner">
          <a href="lesson1.html" class="logo">STORT<span>HUB</span></a>
          <div class="exit">
            <p class="nameuser">–ú–∏—Å–∞–π–ª–æ–≤ –†–∞–π—Ñ</p>
            <a href="#" class="iconexit">üö™</a>
          </div>
        </div>
      </div>
    </header>

    <div class="content">
      <div class="container">
        <div class="content_inner">
          <div class="menu">
            <div class="class-switch">
              <button class="switch-btn active" data-href="lesson1.html">
                5 –∫–ª–∞—Å—Å
              </button>
              <button class="switch-btn" data-href="2lesson.html">
                6 –∫–ª–∞—Å—Å
              </button>
            </div>
            <ul class="lesson-list">
              <li data-href="lesson0.html">–í–≤–µ–¥–µ–Ω–∏–µ</li>
              <li data-href="lesson1.html" class="active">
                –£—Ä–æ–∫ 1. –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –∫–∞–±–∏–Ω–µ—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏
              </li>
              <li data-href="lesson2.html">–£—Ä–æ–∫ 2. –≠—Ä–≥–æ–Ω–æ–º–∏–∫–∞</li>
              <li data-href="lesson3.html">
                –£—Ä–æ–∫ 3. –ö–∏–±–µ—Ä-–≥–∏–≥–∏–µ–Ω–∞ –∏ –∑–∞—â–∏—Ç–∞ –ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
              </li>
              <li data-href="lesson4.html">
                –£—Ä–æ–∫ 4. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä—ã: –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ
              </li>
              <li data-href="lesson5.html">
                –£—Ä–æ–∫ 5. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä—ã: –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ
              </li>
              <li data-href="lesson6.html">–£—Ä–æ–∫ 6. –ê–ª–≥–æ—Ä–∏—Ç–º—ã</li>
            </ul>
          </div>

          <div class="content_games">
            <div class="engagement-survey">
              <div class="survey-header">
                <div class="survey-intro">
                  <h2>üéØ –†–∞—Å—Å–∫–∞–∂–∏ –æ —Å–≤–æ–µ–º —É—á–∞—Å—Ç–∏–∏ –≤ —É—Ä–æ–∫–µ!</h2>
                  <p>–ü–æ–º–æ–≥–∏ –Ω–∞–º –ø–æ–Ω—è—Ç—å, –∫–∞–∫ —Ç—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞–ª —Å –∑–∞–¥–∞–Ω–∏—è–º–∏</p>
                  <button id="startEngagementSurvey" class="start-survey-btn">
                    –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –æ–ø—ã—Ç–æ–º
                  </button>
                </div>
              </div>

              <div
                id="engagementSurveyContainer"
                class="survey-container"
                style="display: none"
              >
                <div class="survey-progress">
                  <div class="progress-bar">
                    <div class="progress-fill" id="surveyProgressFill"></div>
                  </div>
                  <p>
                    –í–æ–ø—Ä–æ—Å <span id="currentSurveyQ">1</span> –∏–∑
                    <span id="totalSurveyQ">5</span>
                  </p>
                </div>

                <div id="surveyQuestionContainer" class="question-container">
                  <!-- –í–æ–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                </div>

                <div
                  id="engagementResult"
                  class="survey-result"
                  style="display: none"
                >
                  <h3 id="surveyResultTitle">–ê–Ω–∞–ª–∏–∑ —Ç–≤–æ–µ–≥–æ —É—á–∞—Å—Ç–∏—è! üìä</h3>
                  <p id="surveyResultText">
                    –í–æ—Ç —á—Ç–æ –º—ã —É–∑–Ω–∞–ª–∏ –æ —Ç–≤–æ–µ–π –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç–∏
                  </p>
                  <div
                    id="engagementInsights"
                    class="engagement-insights"
                  ></div>
                  <div id="engagementLevel" class="engagement-level"></div>
                  <button id="completeLesson" class="complete-lesson-btn">
                    –ó–∞–≤–µ—Ä—à–∏—Ç—å —É—Ä–æ–∫ 1
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal for tooltips -->
    <div id="tooltipOverlay" class="tooltip-overlay"></div>
    <div id="tooltipModal" class="tooltip-modal"></div>

    <style>
      .engagement-survey {
        padding: 40px;
        background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        border-radius: 20px;
        margin: 20px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
      }

      .survey-header {
        display: flex;
        gap: 30px;
        align-items: center;
        margin-bottom: 30px;
      }

      .survey-intro h2 {
        color: #4d36db;
        margin-bottom: 15px;
        font-size: 28px;
      }

      .survey-intro p {
        margin-bottom: 25px;
        font-size: 16px;
        color: #666;
      }

      .start-survey-btn {
        padding: 20px 40px;
        background: linear-gradient(135deg, #4d36db, #6b46c1);
        color: white;
        border: none;
        border-radius: 15px;
        font-size: 18px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        font-family: 'Montserrat', sans-serif;
        box-shadow: 0 4px 15px rgba(77, 54, 219, 0.3);
      }

      .start-survey-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(77, 54, 219, 0.4);
      }

      .survey-container {
        margin-top: 30px;
      }

      .survey-progress {
        margin-bottom: 30px;
        text-align: center;
      }

      .progress-bar {
        width: 100%;
        height: 8px;
        background-color: #e9ecef;
        border-radius: 4px;
        overflow: hidden;
        margin-bottom: 10px;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #4d36db, #6b46c1);
        transition: width 0.5s ease;
        width: 20%;
      }

      .question-container {
        background: white;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
      }

      .question-title {
        color: #4d36db;
        font-size: 20px;
        font-weight: 600;
        margin-bottom: 20px;
      }

      .question-options {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .option-btn {
        padding: 15px 20px;
        background: #f8f9fa;
        border: 2px solid #dee2e6;
        border-radius: 10px;
        cursor: pointer;
        font-family: 'Montserrat', sans-serif;
        font-weight: 500;
        text-align: left;
        transition: all 0.3s ease;
        position: relative;
      }

      .option-btn:hover {
        background: #e9ecef;
        border-color: #4d36db;
        transform: translateX(5px);
      }

      .option-btn.selected {
        border-color: #4d36db;
        background: linear-gradient(135deg, #e8f0fe, #f3e5f5);
        transform: translateX(5px);
        box-shadow: 0 4px 12px rgba(77, 54, 219, 0.2);
      }

      /* –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –≤–æ–ø—Ä–æ—Å–æ–≤ */
      .difficulty-option {
        border-left: 4px solid transparent;
      }

      .difficulty-option.easy {
        border-left-color: #28a745;
      }

      .difficulty-option.medium {
        border-left-color: #ffc107;
      }

      .difficulty-option.hard {
        border-left-color: #dc3545;
      }

      .engagement-option {
        border-left: 4px solid transparent;
      }

      .engagement-option.high {
        border-left-color: #17a2b8;
      }

      .engagement-option.low {
        border-left-color: #6c757d;
      }

      .engagement-option.medium {
        border-left-color: #fd7e14;
      }

      .survey-result {
        background: linear-gradient(135deg, #d1ecf1, #bee5eb);
        border: 2px solid #17a2b8;
        padding: 30px;
        border-radius: 15px;
        text-align: center;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .survey-result h3 {
        color: #0c5460;
        margin-bottom: 15px;
        font-size: 24px;
      }

      .survey-result p {
        color: #0c5460;
        margin-bottom: 20px;
        font-size: 16px;
      }

      .engagement-insights {
        background: rgba(255, 255, 255, 0.7);
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
        text-align: left;
      }

      .insight-item {
        display: flex;
        align-items: center;
        margin: 10px 0;
        padding: 12px;
        background: white;
        border-radius: 8px;
        border-left: 4px solid #17a2b8;
      }

      .insight-emoji {
        font-size: 24px;
        margin-right: 15px;
      }

      .engagement-level {
        background: white;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
        border: 2px solid #17a2b8;
      }

      .level-indicator {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 15px;
        margin: 15px 0;
      }

      .level-bar {
        width: 200px;
        height: 20px;
        background: #e9ecef;
        border-radius: 10px;
        overflow: hidden;
        position: relative;
      }

      .level-fill {
        height: 100%;
        background: linear-gradient(90deg, #dc3545, #ffc107, #28a745);
        transition: width 0.8s ease;
        border-radius: 10px;
      }

      .level-text {
        font-weight: bold;
        font-size: 18px;
        color: #0c5460;
      }

      .complete-lesson-btn {
        padding: 15px 30px;
        background: linear-gradient(135deg, #28a745, #20c997);
        color: white;
        border: none;
        border-radius: 10px;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        font-family: 'Montserrat', sans-serif;
      }

      .complete-lesson-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
      }

      @media (max-width: 768px) {
        .engagement-survey {
          padding: 20px;
          margin: 10px;
        }

        .survey-header {
          flex-direction: column;
          text-align: center;
          gap: 20px;
        }

        .survey-intro h2 {
          font-size: 24px;
        }

        .question-container {
          padding: 20px;
        }

        .level-bar {
          width: 150px;
        }

        .start-survey-btn {
          padding: 15px 30px;
          font-size: 16px;
        }
      }
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="js/slick.min.js"></script>
    <script src="js/jquery.fancybox.min.js"></script>
    <script src="js/help.js"></script>
    <script src="js/main.js"></script>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const questions = [
          {
            question: '–ù–∞—Å–∫–æ–ª—å–∫–æ —Ç–µ–±–µ –±—ã–ª–æ –ª–µ–≥–∫–æ –∏–ª–∏ —Å–ª–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–¥–∞–Ω–∏—è?',
            type: 'difficulty',
            options: [
              { text: '–û—á–µ–Ω—å –ª–µ–≥–∫–æ', value: 'easy', class: 'easy' },
              {
                text: '–ù–µ–º–Ω–æ–≥–æ —Å–ª–æ–∂–Ω–æ, –Ω–æ —è —Å–ø—Ä–∞–≤–∏–ª—Å—è',
                value: 'medium',
                class: 'medium',
              },
              {
                text: '–û—á–µ–Ω—å —Å–ª–æ–∂–Ω–æ, –º–Ω–µ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å',
                value: 'hard',
                class: 'hard',
              },
            ],
          },
          {
            question:
              '–¢—ã —Å–∞–º –ø—Ä–æ–±–æ–≤–∞–ª –Ω–∞–∂–∏–º–∞—Ç—å –Ω–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–ª–∏ —Ç–æ–ª—å–∫–æ —Å–º–æ—Ç—Ä–µ–ª –∞–Ω–∏–º–∞—Ü–∏–∏?',
            type: 'interaction',
            options: [
              { text: '–î–∞, —è –ø—Ä–æ–±–æ–≤–∞–ª', value: 'high', class: 'high' },
              { text: '–ù–µ—Ç, –ø—Ä–æ—Å—Ç–æ —Å–º–æ—Ç—Ä–µ–ª', value: 'low', class: 'low' },
              { text: '–ò–Ω–æ–≥–¥–∞ –ø—Ä–æ–±–æ–≤–∞–ª', value: 'medium', class: 'medium' },
            ],
          },
          {
            question:
              '–¢—ã –±—ã —Ö–æ—Ç–µ–ª, —á—Ç–æ–±—ã –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —É—Ä–æ–∫–∞—Ö –±—ã–ª–æ –±–æ–ª—å—à–µ –∑–∞–¥–∞–Ω–∏–π –∏–ª–∏ –º–µ–Ω—å—à–µ?',
            type: 'preference',
            options: [
              { text: '–ë–æ–ª—å—à–µ', value: 'more', class: 'high' },
              { text: '–ú–µ–Ω—å—à–µ', value: 'less', class: 'low' },
              { text: '–°—Ç–æ–ª—å–∫–æ –∂–µ', value: 'same', class: 'medium' },
            ],
          },
          {
            question:
              '–ë—ã–ª–∏ –ª–∏ –º–æ–º–µ–Ω—Ç—ã, –∫–æ–≥–¥–∞ —Ç—ã —á—É–≤—Å—Ç–≤–æ–≤–∞–ª, —á—Ç–æ —Ç–µ–±–µ —Å–∫—É—á–Ω–æ? –ü–æ—á–µ–º—É?',
            type: 'boredom',
            options: [
              {
                text: '–ù–µ—Ç, –±—ã–ª–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ',
                value: 'interesting',
                class: 'high',
              },
              {
                text: '–ë—ã–ª–æ —Å–∫—É—á–Ω–æ, –º–∞–ª–æ –∑–∞–¥–∞–Ω–∏–π',
                value: 'few_tasks',
                class: 'low',
              },
              { text: '–°–ª–∏—à–∫–æ–º –ø—Ä–æ—Å—Ç–æ', value: 'too_easy', class: 'medium' },
            ],
          },
          {
            question:
              '–¢—ã –±—ã –º–æ–≥ –æ–±—ä—è—Å–Ω–∏—Ç—å —ç—Ç–æ—Ç —É—Ä–æ–∫ –¥—Ä—É–≥—É, –∫–æ—Ç–æ—Ä—ã–π –µ–≥–æ –Ω–µ —Å–º–æ—Ç—Ä–µ–ª –∏–ª–∏ –Ω–µ –¥–µ–ª–∞–ª?',
            type: 'understanding',
            options: [
              { text: '–î–∞, –ª–µ–≥–∫–æ', value: 'confident', class: 'high' },
              { text: '–ù–∞–≤–µ—Ä–Ω–æ–µ, –¥–∞', value: 'maybe', class: 'medium' },
              { text: '–ù–µ —É–≤–µ—Ä–µ–Ω', value: 'unsure', class: 'low' },
            ],
          },
        ];

        let currentQuestion = 0;
        let answers = [];

        document
          .getElementById('startEngagementSurvey')
          .addEventListener('click', startSurvey);
        document
          .getElementById('completeLesson')
          .addEventListener('click', () => {
            window.location.href = 'lesson2.html';
          });

        function startSurvey() {
          document.querySelector('.survey-header').style.display = 'none';
          document.getElementById('engagementSurveyContainer').style.display =
            'block';
          document.getElementById('totalSurveyQ').textContent =
            questions.length;
          showQuestion();
        }

        function showQuestion() {
          const question = questions[currentQuestion];
          document.getElementById('currentSurveyQ').textContent =
            currentQuestion + 1;

          const progress = ((currentQuestion + 1) / questions.length) * 100;
          document.getElementById('surveyProgressFill').style.width =
            progress + '%';

          const container = document.getElementById('surveyQuestionContainer');

          container.innerHTML = `
            <div class="question-title">${question.question}</div>
            <div class="question-options">
              ${question.options
                .map(
                  (option, index) =>
                    `<button class="option-btn ${question.type}-option ${option.class}" data-index="${index}" data-value="${option.value}">
                  ${option.text}
                </button>`
                )
                .join('')}
            </div>
          `;

          container.querySelectorAll('.option-btn').forEach(btn => {
            btn.addEventListener('click', function () {
              // –£–±–∏—Ä–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
              container
                .querySelectorAll('.option-btn')
                .forEach(opt => opt.classList.remove('selected'));
              // –í—ã–¥–µ–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π
              this.classList.add('selected');

              setTimeout(() => {
                selectAnswer(parseInt(this.dataset.index), this.dataset.value);
              }, 300);
            });
          });
        }

        function selectAnswer(selectedIndex, value) {
          const question = questions[currentQuestion];

          answers.push({
            question: question.question,
            selected: selectedIndex,
            answer: question.options[selectedIndex].text,
            value: value,
            type: question.type,
          });

          setTimeout(() => {
            currentQuestion++;
            if (currentQuestion < questions.length) {
              showQuestion();
            } else {
              showResults();
            }
          }, 500);
        }

        function showResults() {
          document.getElementById('surveyQuestionContainer').style.display =
            'none';
          const resultDiv = document.getElementById('engagementResult');
          resultDiv.style.display = 'block';

          // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —É—Ä–æ–≤–µ–Ω—å –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç–∏
          const engagementScore = calculateEngagementScore(answers);
          const insights = generateEngagementInsights(answers, engagementScore);

          const insightsDiv = document.getElementById('engagementInsights');
          insightsDiv.innerHTML =
            '<h4>üîç –ê–Ω–∞–ª–∏–∑ —Ç–≤–æ–µ–≥–æ —É—á–∞—Å—Ç–∏—è:</h4>' +
            insights
              .map(
                insight => `
              <div class="insight-item">
                <div class="insight-emoji">${insight.emoji}</div>
                <div>${insight.text}</div>
              </div>
            `
              )
              .join('');

          // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É—Ä–æ–≤–µ–Ω—å –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç–∏
          showEngagementLevel(engagementScore);
        }

        function calculateEngagementScore(answers) {
          let score = 0;
          const maxScore = 100;

          answers.forEach(answer => {
            switch (answer.value) {
              case 'easy':
              case 'high':
              case 'more':
              case 'interesting':
              case 'confident':
                score += 20;
                break;
              case 'medium':
              case 'same':
              case 'too_easy':
              case 'maybe':
                score += 12;
                break;
              case 'hard':
              case 'low':
              case 'less':
              case 'few_tasks':
              case 'unsure':
                score += 5;
                break;
            }
          });

          return Math.min(score, maxScore);
        }

        function generateEngagementInsights(answers, score) {
          const insights = [];

          // –ê–Ω–∞–ª–∏–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞–¥–∞–Ω–∏–π
          const difficulty = answers[0]?.value;
          if (difficulty === 'easy') {
            insights.push({
              emoji: 'üòä',
              text: '–û—Ç–ª–∏—á–Ω–æ! –ó–∞–¥–∞–Ω–∏—è –±—ã–ª–∏ –¥–ª—è —Ç–µ–±—è –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –∏ –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏.',
            });
          } else if (difficulty === 'medium') {
            insights.push({
              emoji: 'üí™',
              text: '–•–æ—Ä–æ—à–æ! –¢—ã —Å–ø—Ä–∞–≤–∏–ª—Å—è —Å –∑–∞–¥–∞–Ω–∏—è–º–∏, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏.',
            });
          } else {
            insights.push({
              emoji: 'ü§ù',
              text: '–ù–µ –ø–µ—Ä–µ–∂–∏–≤–∞–π! –í —Å–ª–µ–¥—É—é—â–∏—Ö —É—Ä–æ–∫–∞—Ö –º—ã —Å–¥–µ–ª–∞–µ–º –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –µ—â–µ –ø–æ–Ω—è—Ç–Ω–µ–µ.',
            });
          }

          // –ê–Ω–∞–ª–∏–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
          const interaction = answers[1]?.value;
          if (interaction === 'high') {
            insights.push({
              emoji: 'üéÆ',
              text: '–ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ! –¢—ã –∞–∫—Ç–∏–≤–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞–ª —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏.',
            });
          } else if (interaction === 'medium') {
            insights.push({
              emoji: 'üëÜ',
              text: '–•–æ—Ä–æ—à–æ! –ü–æ–ø—Ä–æ–±—É–π –µ—â–µ –±–æ–ª—å—à–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏.',
            });
          } else {
            insights.push({
              emoji: '‚ú®',
              text: '–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∞–∫—Ç–∏–≤–Ω–µ–µ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å - —ç—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ª—É—á—à–µ —É—Å–≤–æ–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª!',
            });
          }

          // –ê–Ω–∞–ª–∏–∑ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–¥–∞–Ω–∏–π
          const preference = answers[2]?.value;
          if (preference === 'more') {
            insights.push({
              emoji: 'üìö',
              text: '–ó–¥–æ—Ä–æ–≤–æ! –¢–≤–æ–µ –∂–µ–ª–∞–Ω–∏–µ –±–æ–ª—å—à–µ –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è –ø–æ–º–æ–∂–µ—Ç –≤ –æ–±—É—á–µ–Ω–∏–∏.',
            });
          }

          // –ê–Ω–∞–ª–∏–∑ –ø–æ–Ω–∏–º–∞–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–∞
          const understanding = answers[4]?.value;
          if (understanding === 'confident') {
            insights.push({
              emoji: 'üéì',
              text: '–ü—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ! –¢—ã —Ö–æ—Ä–æ—à–æ —É—Å–≤–æ–∏–ª –º–∞—Ç–µ—Ä–∏–∞–ª –∏ –º–æ–∂–µ—à—å –ø–æ–¥–µ–ª–∏—Ç—å—Å—è –∑–Ω–∞–Ω–∏—è–º–∏.',
            });
          } else if (understanding === 'maybe') {
            insights.push({
              emoji: 'ü§î',
              text: '–ù–µ–ø–ª–æ—Ö–æ! –ü—Ä–æ–¥–æ–ª–∂–∞–π –∏–∑—É—á–∞—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª –¥–ª—è –±–æ–ª—å—à–µ–π —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏.',
            });
          }

          return insights;
        }

        function showEngagementLevel(score) {
          const levelDiv = document.getElementById('engagementLevel');
          let level, color, description;

          if (score >= 80) {
            level = '–í—ã—Å–æ–∫–∞—è –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å';
            color = '#28a745';
            description = '–¢—ã –æ—á–µ–Ω—å –∞–∫—Ç–∏–≤–Ω–æ —É—á–∞—Å—Ç–≤–æ–≤–∞–ª –≤ —É—Ä–æ–∫–µ!';
          } else if (score >= 60) {
            level = '–°—Ä–µ–¥–Ω—è—è –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å';
            color = '#ffc107';
            description = '–•–æ—Ä–æ—à–∏–π —É—Ä–æ–≤–µ–Ω—å —É—á–∞—Å—Ç–∏—è, –º–æ–∂–Ω–æ –µ—â–µ –∞–∫—Ç–∏–≤–Ω–µ–µ!';
          } else {
            level = '–ù–∏–∑–∫–∞—è –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å';
            color = '#dc3545';
            description = '–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –±–æ–ª—å—à–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –∑–∞–¥–∞–Ω–∏—è–º–∏.';
          }

          levelDiv.innerHTML = `
            <h4>üìä –£—Ä–æ–≤–µ–Ω—å —Ç–≤–æ–µ–π –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç–∏:</h4>
            <div class="level-indicator">
              <div class="level-bar">
                <div class="level-fill" style="width: ${score}%; background: ${color};"></div>
              </div>
              <div class="level-text">${score}%</div>
            </div>
            <p><strong>${level}</strong></p>
            <p>${description}</p>
          `;
        }
      });
    </script>
  </body>
</html>
